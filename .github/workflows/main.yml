name: CI/CD Pipeline
on:
  push:
    branches:
      - main
      - [cite_start]development # Chạy khi đẩy mã lên main hoặc development [cite: 73, 74, 75, 76, 186, 187, 188, 189]
  pull_request:
    branches:
      - [cite_start]main # Chạy khi tạo Pull Request vào nhánh main [cite: 77, 78, 79, 190, 191, 192]

jobs:
  build-and-test:
    [cite_start]runs-on: ubuntu-latest # Chạy trên máy ảo Ubuntu [cite: 82, 195]
    steps:
      - name: Checkout code
        [cite_start]uses: actions/checkout@v3 # Tải mã nguồn [cite: 84, 85, 197, 198]
      
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          [cite_start]node-version: '16' # Thiết lập Node.js phiên bản 16 [cite: 86, 87, 88, 89, 199, 200, 201, 202]
          
      - name: Install dependencies
        [cite_start]run: npm install # Cài đặt các thư viện phụ thuộc [cite: 90, 91, 203, 204]
        
      - name: Run tests
        [cite_start]run: npm test # Chạy các bài kiểm thử [cite: 92, 93, 205, 206]
        
      - name: Build application
        [cite_start]run: npm run build # Xây dựng ứng dụng [cite: 94, 95, 207, 208]